


User Commands                                              M2C(1)



NNAAMMEE
     m2c - Modula-2 compiler

SSYYNNOOPPSSIISS
     mm22cc [ option ] ... file ...

DDEESSCCRRIIPPTTIIOONN
     _M_2_c is Ulm's Modula-2 compiler.  It accepts several types of
     arguments:

     Arguments whose names end with `.m2' are taken  to  be  Mod­
     ula-2  source  programs;  they are compiled, and each object
     program is left on the file whose name is that of the source
     with  `.o'  substituted for `.m2'.  Further a reference file
     with suffix `.r' is left. See _m_d_b_(_1_) for  more  information.
     Names  ending  with `.d' are taken to be Modula-2 definition
     modules and compiled, producing a `.sy' file.  The `.o' file
     is  normally  deleted, however, if a single Modula-2 program
     is compiled and loaded all at one go.  Symbol files and ref­
     erence  files  may be archived in the files `SYM' and `REF'.
     If these archives exist, _m_2_c tries  to  archive  the  corre­
     sponding output files.

     In  the  same  way,  arguments whose names end with `.s' are
     taken to be assembly source programs and are assembled, pro­
     ducing a `.o' file.

     The following options are interpreted by _m_2_c.  See _l_d(1) for
     load-time options.

     --aa   Suppress archiving of the reference  and  symbol  files
          even if `SYM' and `REF' exist.

     --BB_s_t_r_i_n_g
          Use   _/_u_s_r_/_l_o_c_a_l_/_l_i_b_/_m_o_d_u_l_a_/_s_t_r_i_n_g  as  an  alternative
          library directory.  If  _s_t_r_i_n_g  is  omitted,  `old'  is
          taken as default.

     --cc      Suppress  the  loading phase of the compilation, and
             force an object file to be produced even if only one
             program is compiled.

     --HH      Support  code  generation  of  procedures  with huge
             stack consumptions.   This  option  should  only  be
             given if it is explicitly requested by an error mes­
             sage of the compiler  because  less  efficient  code
             will be generated.

     --KK      Request  the  compiler to produce null-valued symbol
             file keys.  This may be  useful  for  regression  or
             steady-state tests of symbol files.




Release 3.0b6Last change: Last change: 10 February 1999          1






User Commands                                              M2C(1)



     --LL      Arrange  the  compiler to produce a listing for each
             source file in a corresponding `.l' file,  or  in  a
             `.ld' file if the source is a definition module.

     --mm      The  following argument is taken to be the main mod­
             ule.  Necessary only if no main module exists.

     --oo _o_u_t_p_u_t
             Name the final output file _o_u_t_p_u_t.  If  this  option
             is  used, the file `a.out' will be left undisturbed.

     --rrNN     This compiler supports three versions  of  Modula-2:
             unrevised Modula-2 as defined in 1st and 2nd edition
             of Wirth's _P_r_o_g_r_a_m_m_i_n_g _i_n _M_o_d_u_l_a_-_2 (_N = 0),  revised
             Modula-2  as defined in the _R_e_v_i_s_i_o_n_s _a_n_d _A_m_e_n_d_m_e_n_t_s
             _t_o _M_o_d_u_l_a_-_2 (_N = 1), and revised Modula-2 as defined
             in  the  3rd  edition (default: _N = 2).  All compile
             versions are full compatible.

     --RR      Suppress clean up of temporary files.

     --SS      Compile the named Modula-2 programs, and  leave  the
             assembler-language  output  on  corresponding  files
             suffixed `.s'.

     --TTddiirr   Allocate the temporary files of the compiler in  the
             directory _d_i_r.

     --vv      Verbose  flag.   _M_2_c prints all executed commands to
             standard error.

     Other arguments are taken to be either loader  option  argu­
     ments,  or  Modula-2  compatible  object programs, typically
     produced by an earlier _m_2_c run, or perhaps libraries of Mod­
     ula-2  compatible  routines.   These programs, together with
     the results of any compilations specified,  are  loaded  (in
     the  order given) to produce an executable program with name
     aa..oouutt..

EENNVVIIRROONNMMEENNTT
     _M_2_c looks for two environment parameters:  MMOODDLLIIBB  and  MMOODD­­
     PPAATTHH..   If MMOODDLLIIBB is given, _m_2_c calls the compiler passes in
     the directory $$MMOODDLLIIBB..  MMOODDPPAATTHH specifies a list of directo­
     ries,  separated  with  colons  (like  PPAATTHH).  Each of these
     directories consists of a _S_Y_M archive of symbol files, a _R_E_F
     archive  of  reference  files and archives with suffix `.a'.
     If the compiler looks for a symbol file or _l_d_(_1_) for library
     modules, this search path is used.

FFIILLEESS
     _fm_ia_li_en_._mo_2r implementation module




Release 3.0b6Last change: Last change: 10 February 1999          2






User Commands                                              M2C(1)



     _fd_ie_lf_ei_.n_dition module
     _Sa_Yr_Mchive with symbol files
     _Ra_Er_Fchive with reference files
     _fo_ib_lj_ee_.c_ot file
     _fs_iy_lm_eb_.o_sl_yfile
     _fr_ie_lf_ee_.r_rence file
     _al_.o_oa_ud_ted output
     _/t_te_mm_pp_/o_mr_ta_mr_*ies for _m_2_c
     _/4_u-_sp_ra_/s_ls_o_cc_ao_lm_/p_li_il_be_/r_m_o_d_u_l_a_/_m_o_d_u_l_a
     _/l_ui_ss_rt_/e_lr_o_c_a_l_/_l_i_b_/_m_o_d_u_l_a_/_m_2_e
     _/f_ui_sl_re_/_lw_oi_ct_ah_l_/e_lr_ir_bo_/r_m_om_de_us_ls_aa_/g_me_2s___e_r_r_o_r
     _/r_uu_sn_rt_/i_lm_oe_c_as_lt_/a_lr_it_bo_/f_mf_o_d_u_l_a_/_m_2_r_t_0_._o
     _/s_ut_sa_rn_/d_la_or_cd_a_ll_/i_lb_ir_ba_/r_my_o_d_u_l_a_/_l_i_b_m_2_._a
     _/s_uy_sm_rb_/o_ll_o_cf_ai_ll_/e_ls_i_bo_/f_m_ot_dh_ue_l_as_/t_Sd_Y_Mlibrary
     _/r_ue_sf_re_/r_le_on_cc_ae_l_/f_li_il_be_/s_m_oo_df_u_lt_ah_/e_R_Es_Ftd library

SSEEEE AALLSSOO
     Niklaus  Wirth,  _P_r_o_g_r_a_m_m_i_n_g  _i_n  _M_o_d_u_l_a_-_2_, Springer-Verlag,
     1982 (1st ed.) and 1985 (3rd ed.)
     Niklaus Wirth, _R_e_v_i_s_i_o_n_s _a_n_d  _A_m_e_n_d_m_e_n_t_s  _t_o  _M_o_d_u_l_a_-_2_,  ETH
     Zürich, 1984
     ld(1), mdb(1), mmm(1), mtags(1)

DDIIAAGGNNOOSSTTIICCSS
     The  diagnostics produced by Modula-2 itself are intended to
     be self-explanatory.

     Some symbol file key mismatches lead to  error  messages  of
     the loader similar to following example:

     Undefined                       first referenced
      symbol                             in file
     M.XXX_857052922_16922_120           YYY.o
     ld: fatal: Symbol referencing errors. No output written to main

     A  module  named  _X_X_X  was  imported  by _Y_Y_Y.  While _X_X_X was
     expected to have the symbol  file  key  885577005522992222__1166992222__112200,
     the  loader happened to find another version of _X_X_X which is
     incompatible to that version which was seen by _m_2_c on compi­
     lation of _Y_Y_Y.  In such cases it may be useful to remove all
     objects, to update all makefiles (using _m_m_m _-_u), and to call
     _m_a_k_e_(_1_) again.

CCAAVVEEAATT
     The first 11 characters of the module name should be identi­
     cal to the file name.









Release 3.0b6Last change: Last change: 10 February 1999          3



